<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.10570.1001"></meta></head><body>
<h1>Загрузка правил синхронизации через универсальный формат из файлов</h1>
<h2>Требования к информационной базе, в которую будет происходить загрузка</h2>
<h3>Формат данных</h3>
<p>Должен быть загружен формат данных, который используется при синхронизации. Загрузка формата выполняется с помощью обработки <strong><a href="DataProcessor.ЗагрузкаСтруктурыФормата/Help">Загрузка структуры формата</a> </strong>(см. раздел <strong>Формат данных</strong>).</p>
<h3>Конфигурация</h3>
<p>Должна быть загружена конфигурация, для которой настраиваются правила синхронизации. Загрузка конфигурации выполняется с помощью обработки <a href="DataProcessor.ЗагрузкаСтруктурыКонфигурации/Help"><strong>Загрузка структуры конфигурации</strong></a><strong> (см. раздел Конфигурации).</strong></p>
<h3>Конвертация</h3>
<p>Должен быть создан элемент справочника <strong>Конвертации</strong>. Для конвертации должна быть указана конфигурация и одна или несколько версий формата, для которых конвертация предназначена.</p>
<h2>Подготовка файлов для загрузки правил</h2>
<p>Подготовка файлов выполняется в информационной базе, для которой будет выполняться обмен в универсальном формате (например, <strong>Бухгалтерия предприятия ред.3.0</strong>).</p>
<p>Для подготовки файлов правил необходимо войти в информационную базу в режиме Предприятие и запустить обработку <strong>Выгрузка правил синхронизации через универсальный формат</strong>, которая входит в состав поставки конфигурации <strong>Конвертация данных ред.3</strong>. </p>
<p>Для подготовки файла с модулем менеджера необходимо войти в информационную базу в режиме Конфигуратор и сохранить общий модуль <strong>МенеджерОбменаЧерезУниверсальныйФормат</strong> в текстовый файл. Имя файла можно указать любое.</p>
<p>Все подготовленные файлы должны располагаться в одном каталоге.</p>
<h2>Загрузка правил синхронизации</h2>
<p>Выполняется в информационной базе <strong>Конвертация данных ред.3</strong> с помощью обработки <strong>Загрузка правил синхронизации из файлов</strong>.</p>
<p>В форме обработки указать:</p>
<ul><li>Каталог обмена, в котором расположены подготовленные ранее файлы 
</li><li>Конвертацию 
</li><li>Состав загружаемых данных 
<ul><li>либо указать вариант "все" 
</li><li>либо выбрать выборочную загрузку, и настроить перечень правил, которые следует загружать </li></ul></li><li>Файл с модулем менеджера обмена 
<ul><li>заполняется автоматически, если текстовый файл с модулем менеджера расположен в каталоге обмена 
</li><li>не требуется, если производится выборочная загрузка и не выполняется загрузка обработчиков</li></ul></li></ul><p> </p>
<h2>Особенности загрузки в непустую базу</h2>
<ul><li>Если загружаемое правило существует, и оно принадлежит только одной конвертации (текущей) - правило будет изменено. При этом не выполняется анализ отличий между существующим и загружаемым правилом, правило перезаполняется и записывается безусловно. 
</li><li>Если загружаемое правило существует, и оно принадлежит нескольким элементам справочника Конвертации, включая текущую конвертацию - будет создано новое правило и привязано к текущей конвертации. "Старое" правило останется без изменений, и останется привязанным к другим конвертациям. 
</li><li>Группы правил не загружаются. Но если правило было отнесено к какой-то группе, при повторной загрузке в это правило данная информация сохранится.</li></ul></body></html>